import{l as h,u as T,n as y,p as z,h as e,P as k,t as M,r as E,_ as V,q as $,I as _,S as Q,v as W,x as U,j as P,y as H,z as J,B as X,T as Y,D as Z,E as K}from"./main.js";import{A as p,a as b,d as m,b as g,F as c,c as r,e as f,C as d,r as I,i as q,T as w,f as ee,g as se,S as C,R as ne,h as L,j as O,B as S}from"./settings-cc0e1832.js";import{R as te,a as R}from"./RadioGroup-96602191.js";import{h as le}from"./tippy.esm-9e4e2221.js";import"./popper-0aa08b12.js";const ae=({tableId:i,metaData:u})=>{h.debug(i,u);const v=T(),n=y(t=>z(t,i)),o=(t,s="")=>{h.debug(s,t);let j;if(s==="")j={...n,...t};else{const l={...n[s],...t},x={};x[s]=l,j={...n,...x}}h.debug(j),v(M({tableId:i,tableSettings:j}))};return e.jsxs(e.Fragment,{children:[e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Processing"}),e.jsx(g,{className:"yd-table-details",children:e.jsxs(c,{children:[e.jsxs(te,{sx:{flexDirection:"row"},children:[e.jsx(r,{control:e.jsx(R,{checked:n.processing===k.SERVERSIDE,onChange:()=>{o({processing:k.SERVERSIDE})}}),value:"serverside",label:"Server-side"},"serverside"),e.jsx(r,{control:e.jsx(R,{checked:n.processing===k.CLIENTSIDE,onChange:()=>{o({processing:k.CLIENTSIDE})}}),value:"clientside",label:"Client-side"},"clientside")]}),e.jsx(f,{children:"Use server-side for large tables and views, use client-side for quick analyses of small tables and views"})]})})]}),e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Row actions"}),e.jsx(g,{className:"yd-table-details",children:e.jsxs(c,{children:[e.jsx(r,{control:e.jsx(d,{checked:n.viewLink,onChange:(t,s)=>{o({viewLink:s})}}),label:"Add view link"}),e.jsx(f,{children:"Adds a view icon to each row to view in read-only mode"})]})})]}),e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Transactions"}),e.jsxs(g,{className:"yd-table-details",children:[e.jsxs(c,{children:[e.jsx(r,{control:e.jsx(d,{checked:n.transactions.insert,onChange:(t,s)=>{o({insert:s},"transactions")}}),label:"Allow insert"}),e.jsx(f,{children:"Adds insert icons to table header and footer"})]}),e.jsxs(c,{children:[e.jsx(r,{control:e.jsx(d,{checked:n.transactions.update,onChange:(t,s)=>{o({update:s},"transactions")}}),label:"Allow update"}),e.jsx(f,{children:"Adds an update icon to each table row"})]}),e.jsxs(c,{children:[e.jsx(r,{control:e.jsx(d,{checked:n.transactions.delete,onChange:(t,s)=>{o({delete:s},"transactions")}}),label:"Allow delete"}),e.jsx(f,{children:"Adds a delete icon to each table row"})]})]})]}),e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Advanced Search"}),e.jsxs(g,{className:"yd-table-details",children:[e.jsxs(c,{children:[e.jsx(r,{control:e.jsx(d,{checked:n.advancedSearch.searchBuilder,disabled:!0,onChange:(t,s)=>{}}),label:"Enable Search Builder"}),e.jsx(f,{children:"Graphical user interface for constructing queries using groups and conditions"})]}),e.jsxs(c,{children:[e.jsx(r,{control:e.jsx(d,{checked:n.advancedSearch.searchPanes,disabled:!0,onChange:(t,s)=>{}}),label:"Enable Search Panes"}),e.jsx(f,{children:"Quickly filter table data based on columns values"})]})]})]}),e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Bulk actions"}),e.jsxs(g,{className:"yd-table-details",children:[e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.pdf,disabled:!0,onChange:(t,s)=>{}}),label:"Export to PDF"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.excel,disabled:!0,onChange:(t,s)=>{}}),label:"Export to Excel"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.csv,onChange:(t,s)=>{o({csv:s},"bulkActions")}}),label:"Export to CSV"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.json,onChange:(t,s)=>{o({json:s},"bulkActions")}}),label:"Export to JSON"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.xml,onChange:(t,s)=>{o({xml:s},"bulkActions")}}),label:"Export to XML"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.sql,onChange:(t,s)=>{o({sql:s},"bulkActions")}}),label:"Export to SQL"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.print,onChange:(t,s)=>{o({print:s},"bulkActions")}}),label:"Print"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.copy,onChange:(t,s)=>{o({copy:s},"bulkActions")}}),label:"Copy to clipboard"})}),e.jsx(c,{children:e.jsx(r,{control:e.jsx(d,{checked:n.bulkActions.delete,onChange:(t,s)=>{o({delete:s},"bulkActions")}}),label:"Delete permanantly"})})]})]})]})};var A={},ie=q;Object.defineProperty(A,"__esModule",{value:!0});var D=A.default=void 0,oe=ie(I()),re=e,ce=(0,oe.default)((0,re.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");D=A.default=ce;var N={},de=q;Object.defineProperty(N,"__esModule",{value:!0});var F=N.default=void 0,xe=de(I()),B=e,ue=(0,xe.default)([(0,B.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5z"},"0"),(0,B.jsx)("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff");F=N.default=ue;const he=E.lazy(()=>V(()=>import("./InlineSearch-61f455fc.js"),["./InlineSearch-61f455fc.js","./main.js","./main-1e2463ed.css","./QueryColumnEnum-1934c682.js","./settings-cc0e1832.js","./popper-0aa08b12.js","./settings-4d724ea0.css","./RadioGroup-96602191.js"],import.meta.url)),je=({tableId:i,metaData:u})=>{h.debug(i,u);const v=T(),n=y(a=>$(a,i)),o=(a,l)=>{const x=u.columns[a].column_name;P("#"+i).DataTable().column("."+x).visible(l),H(i)},t=(a,l)=>{h.debug(a,l);const x=P("#"+i).DataTable().settings(),G=J(i,u,a);x[0]&&x[0].aoColumns&&(x[0].aoColumns[G].bSearchable=l),h.debug(x[0])},s=(a,l)=>{h.debug(a,l),v(W({tableId:i,index:a,visible:l})),o(a,l)},j=(a,l)=>{h.debug(a,l),v(U({tableId:i,index:a,queryable:l})),t(a,l)};return e.jsx(e.Fragment,{children:u.columns.map((a,l)=>e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsxs(b,{className:"yd-column-settings",expandIcon:e.jsx(m,{}),children:[e.jsx("div",{children:u.table_labels[a.column_name]}),e.jsx("div",{children:n&&n[l]&&e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Visiblity",placement:"bottom",children:e.jsx(_,{onClick:x=>{s(l,!n[l].visible),x.stopPropagation()},children:e.jsx(e.Fragment,{children:n[l].visible?e.jsx(ee,{}):e.jsx(se,{})})})}),e.jsx(w,{title:"Queryable",placement:"bottom",children:e.jsx(_,{onClick:x=>{j(l,!n[l].queryable),x.stopPropagation()},children:e.jsx(e.Fragment,{children:n[l].queryable?e.jsx(D,{}):e.jsx(F,{})})})})]})})]}),e.jsx(g,{children:e.jsx("div",{className:"yd-column-details",children:e.jsxs(e.Fragment,{children:[e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Inline Search"}),e.jsx(g,{children:e.jsx(E.Suspense,{fallback:e.jsx(Q,{title:"Loading column data..."}),children:e.jsx(he,{tableId:i,metaData:u,index:l})})})]}),e.jsxs(p,{TransitionProps:{unmountOnExit:!0},disableGutters:!0,sx:{marginTop:"1px"},children:[e.jsx(b,{expandIcon:e.jsx(m,{}),children:"Inline Editing"}),e.jsx(g,{children:"TO DO..."})]})]})})})]},l))})};const fe=({tableId:i,metaData:u})=>{h.debug(i,u);const v=T(),n=()=>{v(Z({tableId:i})),setTimeout(function(){le()},20)},[o,t]=E.useState(C.TABLE),s=y(a=>X(a,i)),j=a=>{v(K({tableId:i,width:a}))};return e.jsxs(ne,{drawerWidth:s,setWidth:j,children:[e.jsx(L,{position:"static",children:e.jsxs(O,{className:"yd-setting-toolbar",children:[e.jsx(Y,{variant:"h5",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"},paddingLeft:"6px"},children:"Table Settings"}),e.jsx(_,{onClick:n,size:"large",color:"inherit",sx:{position:"fixed",right:"15px"},children:e.jsx("i",{className:"fa-solid fa-xmark"})})]})}),e.jsx(L,{position:"static",className:"yd-setting-buttons-appbar",children:e.jsxs(O,{className:"yd-setting-buttons",children:[e.jsx(S,{variant:"text",onClick:()=>{t(C.TABLE)},children:"Table"}),e.jsx(S,{variant:"text",onClick:()=>{t(C.COLUMNS)},children:"Columns"})]})}),e.jsxs("div",{className:"yd-settings-container",children:[o===C.TABLE&&e.jsx(ae,{tableId:i,metaData:u}),o===C.COLUMNS&&e.jsx(je,{tableId:i,metaData:u})]}),e.jsx("div",{className:"yd-setting-footer",children:e.jsxs("div",{className:"yd-setting-footer-buttons",children:[e.jsx(S,{variant:"outlined",className:"footer_action_button",onClick:n,children:"Apply"}),e.jsx(S,{variant:"outlined",className:"footer_action_button",onClick:n,children:"OK"}),e.jsx(S,{variant:"outlined",className:"footer_action_button",onClick:n,children:"Cancel"})]})})]})};export{fe as default};
